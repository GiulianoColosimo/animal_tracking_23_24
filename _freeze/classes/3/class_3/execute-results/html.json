{
  "hash": "e7f2c6f7f11e0a99dd2cc2abef047810",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Animal tracking nella biologia della conservazione\"\nsubtitle: \"Class 3\"\ndate: \"2024-05-14\"\nfooter:  \"[Animal tracking nella biologia della conservazione - Giuliano Colosimo, PhD](https://giulianocolosimo.github.io/animal_tracking_23_24/)\"\nlogo: ../../figures/Tor-Vergata_logo_cmyk.png\nformat: \n  revealjs:\n    width: 1600\n    height: 900\n    theme: slides.scss\n    multiplex: true\n    transition: fade\n    slide-number: true\n    chalkboard: \n      boardmarker-width: 5\neditor: visual\nfrom: markdown+emoji\nexecute:\n  freeze: auto\neditor_options: \n  chunk_output_type: console\nbibliography: /Users/giulianocolosimo/Library/CloudStorage/ProtonDrive-giuliano.colosimo@protonmail.com/manuscripts/literature/bibtex/comprehensive_database.bib\ncsl: /Users/giulianocolosimo/Library/CloudStorage/ProtonDrive-giuliano.colosimo@protonmail.com/manuscripts/literature/bibtex/apa_5th_edition.csl\ncitation_package: biblatex\ncitecolor: \"red\"\n---\n\n\n\n\n## Topics\n\n::: columns\n::: {.column width=\"50%\"}\n1.  [Setting up your computers]{style=\"color: green;\"}\n    -   [Packages to install]{style=\"color: green;\"}\n2.  [An introduction to Animal tracking]{style=\"color: green;\"}\n    -   [Tagging systems]{style=\"color: green;\"}\n3.  [CRS]{style=\"color: green;\"}\n    -   [Telemetry and GPS]{style=\"color: green;\"}\n4.  [Movement Data]{style=\"color: green;\"}\n5.  [On-line databases]{style=\"color: green;\"}\n    -   [GBIF]{style=\"color: green;\"}\n    -   [Movebank]{style=\"color: green;\"}\n:::\n\n::: {.column width=\"50%\"}\n6.  [Drivers of species distribution]{style=\"color: orange;\"}\n7.  [Home range estimates]{style=\"color: GhostWhite;\"}\n    -   [MPC]{style=\"color: GhostWhite;\"}\n    -   [KDE]{style=\"color: GhostWhite;\"}\n    -   [Kriging]{style=\"color: GhostWhite;\"}\n    -   [BBM]{style=\"color: GhostWhite;\"}\n8.  [Species distribution modeling]{style=\"color: GhostWhite;\"}\n    -   [Resource selection functions]{style=\"color: GhostWhite;\"}\n    -   [Step selection functions]{style=\"color: GhostWhite;\"}\n9.  [Modeling approaches]{style=\"color: GhostWhite;\"}\n:::\n:::\n\n## Drivers of species distribution \n\n- Advances in ecological research have contributed to make the study and understanding of the distribution of biodiversity at various spatial and temporal scale a core aspect of macro-ecology and biodiversity research [@Guisan2020]\n- Three main condition need to met in order for a species to occupy an area and maintain a viable population:\n    1. the species has to reach the site\n    2. the abiotic conditions have to be suitable for the species \n    3. the biotic environment must be suitable for the species\n    \n## Drivers of species distribution \n\n![Figure 3.1 after @Guisan2020](./ecoProcesses.png)\n\n## The abiotic environment\n\n- How does the abiotic environment influence the distribution of organisms?\n- What are the different types of environmental influences on species distribution?\n- How do multiple variables jointly determine a species geographic distribution?\n- Habitat: A description of environmental condition (abiotic and biotic) at a given locality at a particular scale of space and time, where organisms are or could potentially live\n- Species can colonize a range of conditions along an environmental gradient, but in most cases the range occupies a small portion of all possible conditions\n- The reasons lie in the physiology of organisms and the specific physiological adaptations that allow certain species to be better competitors in certain habitats and worst competitors in other\n\n## The abiotic environment\n\n- The transition from optimal to poor performance in a specific habitat can be a smooth transition or an abrupt transition\n- In conifer tree, the cambium activity allowing root growth tend to stop rather abruptly below ca. 7ÂºC at 10cm below ground [@Korner2021]\n- Smoother transitions occur when the gradient has a linear effect on some metabolic rate, progressively lowering individual fitness\n- All important variables should be considered jointly in an analysis in order to define what is known as the environmental niche of a species\n- When considered jointly, the physiological responses of a given species to several environmental variables define a multidimensional volume called a species fundamental environmental niche\n- For plants, the axes of the fundamental niche may typically be resource variable related to light, heat, water and nutrient variability [@Guisan2020]\n\n## The abiotic environment\n\n- If we could estimate the species fundamental niche we would be able to make predictions about where the species could live and thrive\n\n- In practice, measuring the fundamental niche based on field observation is practically impossible as interactions with other species should be factored in\n\n- The response of species in nature is modified by the presence of other species within the same group or across groups combined with the effects of the changing environment.These effects constrint the fundamental niche to what is known as the realized niche\n\n- Sometimes is not possible to measure and map the variables that actually have a measurable effect on species distribution\n\n## Preliminary data analysis\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"move\")\ninstall.packages(\"mapdata\")\ninstall.packages(\"scales\")\ninstall.packages(\"ggmap\")\ninstall.packages(\"mapproj\")\ninstall.packages(\"ggsn\") # or devtools::install_github('oswaldosantos/ggsn')\n```\n:::\n\n\n- We can now load all the libraries that are going to be needed to run the exercise\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(move)\nlibrary(dplyr)\nlibrary(sf)\nlibrary(readr)\nlibrary(mapdata)\nlibrary(scales)\nlibrary(ggmap)\nlibrary(mapproj)\nlibrary(ggsn)\n```\n:::\n\n\n## Preliminary data analysis\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nFormal class 'MoveStack' [package \"move\"] with 17 slots\n  ..@ trackId                : Factor w/ 17 levels \"X21\",\"X42\",\"X127\",..: 1 1 1 1 1 1 1 1 1 1 ...\n  ..@ timestamps             : POSIXct[1:1740], format: \"2002-06-02 22:55:11\" \"2002-06-02 23:04:30\" ...\n  ..@ idData                 :'data.frame':\t17 obs. of  7 variables:\n  .. ..$ visible                        : Factor w/ 1 level \"true\": 1 1 1 1 1 1 1 1 1 1 ...\n  .. ..$ manually.marked.outlier        : logi [1:17] NA NA NA NA NA NA ...\n  .. ..$ sensor.type                    : Factor w/ 1 level \"radio-transmitter\": 1 1 1 1 1 1 1 1 1 1 ...\n  .. ..$ individual.taxon.canonical.name: Factor w/ 1 level \"Vespertilio murinus\": 1 1 1 1 1 1 1 1 1 1 ...\n  .. ..$ tag.local.identifier           : Factor w/ 17 levels \"#1918725\",\"#1918728\",..: 8 9 10 11 12 1 2 3 13 4 ...\n  .. ..$ individual.local.identifier    : Factor w/ 17 levels \"X21\",\"X42\",\"X127\",..: 1 2 3 4 5 6 7 8 9 10 ...\n  .. ..$ study.name                     : Factor w/ 1 level \"Parti-colored bat Safi Switzerland\": 1 1 1 1 1 1 1 1 1 1 ...\n  ..@ sensor                 : Factor w/ 1 level \"radio-transmitter\": 1 1 1 1 1 1 1 1 1 1 ...\n  ..@ data                   :'data.frame':\t1740 obs. of  2 variables:\n  .. ..$ event.id : int [1:1740] 16309975 16309976 16309877 16309874 16309878 16309886 16309887 16309888 16309889 16309890 ...\n  .. ..$ timestamp: POSIXct[1:1740], format: \"2002-06-02 22:55:11\" \"2002-06-02 23:04:30\" ...\n  ..@ coords.nrs             : int [1:2] 3 4\n  ..@ coords                 : num [1:1740, 1:2] 8.6 8.61 8.61 8.6 8.6 ...\n  .. ..- attr(*, \"dimnames\")=List of 2\n  .. .. ..$ : chr [1:1740] \"1\" \"2\" \"3\" \"4\" ...\n  .. .. ..$ : chr [1:2] \"location.long\" \"location.lat\"\n  ..@ bbox                   : num [1:2, 1:2] 7.03 46.9 8.69 47.66\n  .. ..- attr(*, \"dimnames\")=List of 2\n  .. .. ..$ : chr [1:2] \"location.long\" \"location.lat\"\n  .. .. ..$ : chr [1:2] \"min\" \"max\"\n  ..@ proj4string            :Formal class 'CRS' [package \"sp\"] with 1 slot\n  .. .. ..@ projargs: chr \"+proj=longlat +datum=WGS84 +no_defs\"\n  .. .. ..$ comment: chr \"GEOGCRS[\\\"unknown\\\",\\n    DATUM[\\\"World Geodetic System 1984\\\",\\n        ELLIPSOID[\\\"WGS 84\\\",6378137,298.25722\"| __truncated__\n  ..@ trackIdUnUsedRecords   : Factor w/ 17 levels \"X21\",\"X42\",\"X127\",..: \n  ..@ timestampsUnUsedRecords: 'POSIXct' num(0) \n - attr(*, \"tzone\")= chr \"UTC\"\n  ..@ sensorUnUsedRecords    : Factor w/ 1 level \"radio-transmitter\": \n  ..@ dataUnUsedRecords      :'data.frame':\t0 obs. of  4 variables:\n  .. ..$ event.id     : int(0) \n  .. ..$ timestamp    : 'POSIXct' num(0) \n - attr(*, \"tzone\")= chr \"UTC\"\n  .. ..$ location.long: num(0) \n  .. ..$ location.lat : num(0) \n  ..@ dateCreation           : POSIXct[1:1], format: \"2023-07-07 03:20:52\"\n  ..@ study                  : chr \"Parti-colored bat Safi Switzerland\"\n  ..@ citation               : chr(0) \n  ..@ license                : chr(0) \n```\n\n\n:::\n:::\n\n\n## Preliminary data analysis\n### Basic plots 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(bats)\n```\n\n::: {.cell-output-display}\n![](class_3_files/figure-revealjs/pda2-1.png){width=960}\n:::\n:::\n\n\n## Preliminary data analysis\n### Basic plots 2\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(bats, xlab=\"Longitude\", ylab=\"Latitude\", type=\"b\", pch=16, cex=0.5)\n```\n\n::: {.cell-output-display}\n![](class_3_files/figure-revealjs/pda3-1.png){width=960}\n:::\n:::\n\n\n## Preliminary data analysis\n### Plot on a map\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmap('worldHires', col=\"grey\", fill=T)\npoints(t(colMeans(coordinates(bats))), col=alpha('red',0.5), pch=16)\npoints(t(colMeans(coordinates(bats))), col='cyan')\n```\n\n::: {.cell-output-display}\n![](class_3_files/figure-revealjs/pda4-1.png){width=960}\n:::\n:::\n\n\n## Preliminary data analysis\n### Plot on a zoomed map\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(e<-bbox(extent(bats)*5))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         min      max\ns1  3.691055 12.02844\ns2 45.388508 49.16696\n```\n\n\n:::\n\n```{.r .cell-code}\n# note here that the brackets around the assignment ensure that the result is also printed to the console\nmap('worldHires', xlim = e[1, ], ylim = e[2, ])\npoints(bats)\nlines(bats)\n```\n\n::: {.cell-output-display}\n![](class_3_files/figure-revealjs/pda5-1.png){width=960}\n:::\n:::\n\n\n\n## Preliminary data analysis\n### Plot on a google map background\n- This code is not shown because it won't work for you unless you activate your personal google API key \n\n::: {.cell}\n::: {.cell-output-display}\n![](class_3_files/figure-revealjs/api-1.png){width=960}\n:::\n:::\n\n\n\n## Tidy your data \n\n- We can identify and remove outliers after a graphical inspection of our data\n- Download a new data set from [this link](https://drive.proton.me/urls/Z8YWTNZET8#lg4QAn0g2Qgk)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nload(\"PATH_TO_YOUR_DATA/buffalo_cleaned.Rdata\") # buffalo\n## Create gray scale\nbuffaloGray<-gray((nrow(idData(buffalo))-1):0/nrow(idData(buffalo)))\n## Plot with gray scale\nplot(buffalo, col=buffaloGray, xlab=\"Longitude\", ylab=\"Latitude\")\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](class_3_files/figure-revealjs/tidyPoints2-1.png){width=960}\n:::\n:::\n\n\n\n## Tidy your data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## get the position of the coordinate that has the max longitude\nwhich.max(coordinates(buffalo)[,1])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 24606\n```\n\n\n:::\n\n```{.r .cell-code}\n## drop the point with the largest coordinate values\nbuffalo <- buffalo[-which.max(coordinates(buffalo)[,1])]\nplot(buffalo, col=buffaloGray, xlab=\"Longitude\", ylab=\"Latitude\")\n```\n\n::: {.cell-output-display}\n![](class_3_files/figure-revealjs/tidyPoints3-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## save the clean dataset for the following days\nsave(buffalo, file=\"PATH_TO_YOUR_DIRECTORY/buffalos.Rdata\")\n```\n:::\n\n\n\n## References",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}